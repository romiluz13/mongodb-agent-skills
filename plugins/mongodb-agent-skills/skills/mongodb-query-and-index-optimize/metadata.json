{
  "version": "2.4.0",
  "organization": "MongoDB",
  "date": "February 2026",
  "abstract": "MongoDB query optimization and indexing strategies for AI agents and developers. Contains 46 rules across 5 categories: Index Essentials (CRITICAL - ESR rule, compound index usage, covered queries, prefix principle, index sizing), Specialized Indexes (HIGH - unique, partial, sparse, TTL, text search, wildcard, multikey, geospatial, hashed, clustered, hidden), Query Patterns (HIGH - projections, avoiding $ne/$nin, $or index requirements, anchored regex, batching, pagination, $exists behavior, sort/collation alignment, MongoDB 8.0 bulkWrite command for cross-collection atomic operations, MongoDB 8.0 updateOne/replaceOne sort option for deterministic updates), Aggregation Optimization (HIGH - $match/$project early, $sort+$limit coalescence, $lookup indexing, $graphLookup for recursive traversal, $unwind control, allowDiskUse, $group memory control), and Performance Diagnostics (MEDIUM - explain() interpretation, slow query profiler, $indexStats analysis, hint usage, Atlas Performance Advisor, MongoDB 8.0 $queryStats for workload analysis, MongoDB 8.0 Query Settings for persistent index hints). Each rule includes incorrect/correct code examples with quantified impact metrics, 'When NOT to use' exceptions, and verification diagnostics.",
  "references": [
    "https://mongodb.com/docs/manual/indexes/",
    "https://mongodb.com/docs/manual/core/indexes/index-types/",
    "https://mongodb.com/docs/manual/core/indexes/create-index/",
    "https://mongodb.com/docs/manual/tutorial/analyze-query-plan/",
    "https://mongodb.com/docs/manual/reference/explain-results/",
    "https://mongodb.com/docs/manual/core/aggregation-pipeline-optimization/",
    "https://mongodb.com/docs/manual/tutorial/manage-the-database-profiler/",
    "https://mongodb.com/docs/manual/reference/operator/aggregation/indexStats/",
    "https://mongodb.com/docs/atlas/performance-advisor/",
    "https://mongodb.com/developer/products/mongodb/performance-best-practices-indexing/",
    "https://mongodb.com/docs/manual/core/index-unique/",
    "https://mongodb.com/docs/manual/core/indexes/index-types/index-hashed/",
    "https://mongodb.com/docs/manual/core/clustered-collections/",
    "https://mongodb.com/docs/manual/core/index-hidden/",
    "https://mongodb.com/docs/manual/tutorial/sort-results-with-indexes/",
    "https://mongodb.com/docs/manual/reference/collation/",
    "https://mongodb.com/docs/manual/reference/method/cursor.hint/",
    "https://mongodb.com/docs/manual/reference/operator/query/or/",
    "https://mongodb.com/docs/manual/reference/operator/aggregation/graphLookup/",
    "https://mongodb.com/docs/manual/reference/command/bulkWrite/",
    "https://mongodb.com/docs/manual/reference/operator/aggregation/queryStats/",
    "https://mongodb.com/docs/manual/reference/command/setQuerySettings/",
    "https://mongodb.com/docs/manual/reference/method/db.collection.updateOne/"
  ]
}
